@using Eproject.Models
@model Eproject.Models.UserViewModel

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{

}
<h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">User / View /</span> Account</h4>
<div class="row">
    <!-- User Sidebar -->
    <div class="col-xl-4 col-lg-5 col-md-5 order-1 order-md-0">
        <!-- User Card -->
        <div class="d-flex justify-content-center">
            <div class="card mb-4">
                <div class="card-body">
                    <div class="user-avatar-section">
                        <div class="d-flex align-items-center flex-column">
                            <div class="user-info text-center">
                                <h4>@Model.Full_name</h4>
                                <span class="badge bg-label-danger">@Model.Role</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between flex-wrap my-2 py-3">
                    </div>
                    <h5 class="pb-3 border-bottom mb-3">Details</h5>
                    <div class="info-container">
                        <ul class="list-unstyled mb-4">
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Username:</span>
                                <span>@Model.Username</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Email:</span>
                                <span>@Model.Email</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Status:</span>
                                @{
                                    if (Model.Status == UserStatus.Active)
                                    {
                                        <span class="badge bg-label-success">Active</span>
                                    }
                                    else if (Model.Status == UserStatus.Inactive)
                                    {
                                        <span class="badge bg-label-danger">Inactive</span>
                                    }
                                    else if (Model.Status == UserStatus.Pending)
                                    {
                                        <span class="badge bg-label-warning">Pending</span>
                                    }
                                    else
                                    {
                                        <span class="badge bg-label-muted">Unknown</span>
                                    }
                                }
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Full Name:</span>
                                <span>@Model.Full_name</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Roll Number:</span>
                                <span>@Model.Roll_number</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Section:</span>
                                <span>@Model.Section</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Specification:</span>
                                <span>@Model.Specification</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">User ID:</span>
                                <span>@Model.UserId</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Class:</span>
                                <span>@Model.Class</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Role:</span>
                                <span>@Model.Role</span>
                            </li>
                            <li class="mb-3">
                                <span class="fw-semibold text-heading me-2">Admission Date:</span>
                                <span>@Model.Admission_date</span>
                            </li>
                        </ul>
                        <div class="d-flex justify-content-center">
                            <a href="javascript:;"
                               class="btn btn-primary me-3"
                               data-bs-target="#editUser"
                               data-bs-toggle="modal">Edit</a>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- /User Card -->
        <!-- Plan Card -->
        <!-- /Plan Card -->
    </div>
    <!--/ User Sidebar -->
    <!-- User Content -->
    

    <!-- Modal -->
    <!-- Edit User Modal -->
    <div class="modal fade" id="editUser" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-simple modal-edit-user">
            <div class="modal-content p-3 p-md-5">
                <div class="modal-body py-3 py-md-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="text-center mb-4">
                        <h3 class="mb-2">Edit User Information</h3>
                        <p class="pt-1">Updating user details will receive a privacy audit.</p>
                    </div>
                    <form id="editUserForm" class="row g-4" asp-controller="Users" asp-action="Update" asp-area="Admin">
                        <input type="hidden" name="UserId" value="@Model.UserId" />
                        <div class="col-12">
                            <div class="form-floating form-floating-outline">
                                <input type="text"
                                       id="modalEditUserName"
                                       name="FullName"
                                       class="form-control"
                                       placeholder="john.doe.007" value="@Model.Full_name" />
                                <label for="modalEditUserName">Full Name</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating form-floating-outline">
                                <input type="text"
                                       id="modalEditUserName"
                                       name="UserName"
                                       class="form-control"
                                       placeholder="john.doe.007" value="@Model.Username" />
                                <label for="modalEditUserName">Username</label>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-floating form-floating-outline">
                                <input type="text"
                                       id="modalEditUserName"
                                       name="RollNumber"
                                       class="form-control"
                                       placeholder="john.doe.007" value="@Model.Roll_number" />
                                <label for="modalEditUserName">Roll Number</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating form-floating-outline">
                                <input type="date"
                                       id="dobBasic"
                                       name="AdmissionDate"
                                       class="form-control"
                                       placeholder="john.doe.007" value="@Model.Admission_date.ToString("yyyy-MM-dd")"  />
                                <label for="dobBasic">Admission</label>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="form-floating form-floating-outline">
                                <input type="text"
                                       id="modalEditUserEmail"
                                       name="Email"
                                       class="form-control"
                                       placeholder="example@domain.com"
                                       value="@Model.Email" />
                                <label for="modalEditUserEmail">Email</label>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="form-floating form-floating-outline">
                                @Html.DropDownListFor(
                                model => model.Status,
                                
                                new List<SelectListItem>
                                {
                                new SelectListItem { Value = "0", Text = "Active" },
                                new SelectListItem { Value = "1", Text = "Inactive" },
                                new SelectListItem { Value = "2", Text = "Pending" }
                                },
                                "Select",
                                new { @class = "form-select", id = "modalEditUserStatus", aria_label = "Default select example" }
                                )
                                <label for="modalEditUserStatus">Status</label>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="form-floating form-floating-outline">
                                <input type="text"
                                       id="modalEditTaxID"
                                       name="Class"
                                       class="form-control modal-edit-tax-id"
                                       placeholder="123 456 7890" value="@Model.Class"/>
                                <label for="modalEditTaxID">Class</label>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="input-group input-group-merge">
                                <div class="form-floating form-floating-outline">
                                    <input type="text"
                                           id="modalEditUserPhone"
                                           name="Section"
                                           class="form-control"
                                           placeholder="A" value="@Model.Section" />
                                    <label for="modalEditUserPhone">Section</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="input-group input-group-merge">
                                <div class="form-floating form-floating-outline">
                                    <input type="text"
                                           id="modalEditUserPhone"
                                           name="Specification"
                                           class="form-control"
                                           placeholder="Science" value="@Model.Specification" />
                                    <label for="modalEditUserPhone">Specification</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="form-floating form-floating-outline">
                                @Html.DropDownListFor(
                                model => model.Role,
                                new SelectList(Model.AllRoles),
                                "Select",
                                new { @class = "form-select", id = "modalEditUserStatus", aria_label = "Default select example" }
                                )
                                <label for="modalEditUserRole">Role</label>
                            </div>
                        </div>


                        <div class="col-12 text-center">
                            <button type="submit" class="btn btn-primary me-sm-3 me-1">Submit</button>
                            <button type="reset"
                                    class="btn btn-outline-secondary"
                                    data-bs-dismiss="modal"
                                    aria-label="Close">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!--/ Edit User Modal -->
    <!-- Add New Credit Card Modal -->
    <div class="modal fade" id="upgradePlanModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-simple modal-upgrade-plan">
            <div class="modal-content p-3 p-md-5">
                <div class="modal-body pt-md-0 px-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="text-center mb-4">
                        <h3 class="mb-2 pb-1">Upgrade Plan</h3>
                        <p>Choose the best plan for user.</p>
                    </div>
                    <form id="upgradePlanForm" class="row g-3 d-flex align-items-center" onsubmit="return false">
                        <div class="col-sm-9">
                            <div class="form-floating form-floating-outline">
                                <select id="choosePlan" name="choosePlan" class="form-select" aria-label="Choose Plan">
                                    <option selected>Choose Plan</option>
                                    <option value="standard">Standard - $99/month</option>
                                    <option value="exclusive">Exclusive - $249/month</option>
                                    <option value="Enterprise">Enterprise - $499/month</option>
                                </select>
                                <label for="choosePlan">Choose Plan</label>
                            </div>
                        </div>
                        <div class="col-sm-3 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary">Upgrade</button>
                        </div>
                    </form>
                </div>
                <hr class="mx-md-n5 mx-n3" />
                <div class="modal-body pb-md-0 px-0">
                    <h6 class="mb-0">User current plan is standard plan</h6>
                    <div class="d-flex justify-content-between align-items-center flex-wrap">
                        <div class="d-flex justify-content-center me-2 mt-3">
                            <sup class="h5 pricing-currency pt-1 mt-3 mb-0 me-1 text-primary">$</sup>
                            <h1 class="fw-bold display-3 mb-0 text-primary">99</h1>
                            <sub class="h5 pricing-duration mt-auto mb-2">/month</sub>
                        </div>
                        <button class="btn btn-label-danger cancel-subscription mt-3">Cancel Subscription</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ Add New Credit Card Modal -->
    <!-- /Modal -->
</div>